{"ast":null,"code":"import React,{useState}from\"react\";import Navbar from\"../mainPage/Navbar\";import{useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Search(){const[routes,setRoutes]=useState(\"res\");const[searchTerm,setSearchTerm]=useState(\"\");const[searchResults,setSearchResults]=useState([]);const resData=useSelector(state=>state.RestaurantsData);const cusData=useSelector(state=>state.RestaurantsCuisines);const cusRoutes=()=>{setSearchTerm(\"\");setSearchResults(\"\");setRoutes(\"cus\");};const resRoutes=()=>{setSearchTerm(\"\");setSearchResults(\"\");setRoutes(\"res\");};const handleChange=event=>{const term=event.target.value;setSearchTerm(term);if(term.trim()===\"\")setSearchResults([]);else{setTimeout(()=>{const res=resData.filter(r=>r.name.toLowerCase().startsWith(term.toLowerCase())).map(r=>[r.name,r.id,r.avgRatingString,r.cloudinaryImageId]);const cui=cusData.filter(c=>c.toLowerCase().startsWith(term.toLowerCase()));let result;if(routes===\"res\")result=res;else result=cui;console.log(result);setSearchResults(result);},1000);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center h-screen\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-[50%] mt-36\",children:/*#__PURE__*/_jsx(\"input\",{className:\"border border-black pl-2 w-[100%] h-12 rounded-sm\",type:\"text\",placeholder:routes==='res'?'Search for restaurants...':'Search for cuisines...',onChange:handleChange,value:searchTerm})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"m-4 border p-3 rounded-md \".concat(routes==='res'?'bg-orange-400 transition text-white font-bold border-2 border-orange-400 shadow-md':''),onClick:resRoutes,children:\"Restaurants\"}),/*#__PURE__*/_jsx(\"button\",{className:\"m-4 border p-3 rounded-md \".concat(routes==='cus'?'bg-orange-400 transition text-white font-bold border-2 border-orange-400 shadow-md':''),onClick:cusRoutes,children:\"Cuisines\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-[50%] h-auto mt-6  flex flex-col overflow-y-auto scroll-smooth scrollbar-hidden\",children:/*#__PURE__*/_jsx(\"ul\",{children:routes===\"res\"?searchResults&&searchResults.map(item=>/*#__PURE__*/_jsx(Link,{to:\"/restaurant/\".concat(item[1]),children:/*#__PURE__*/_jsxs(\"li\",{className:\"border-2 flex justify-between rounded-md m-2 hover:bg-orange-400 hover:text-white transition shadow-md p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold\",children:item[0]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400\",children:item[2]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{alt:\"resImage\",className:\"w-20 h-20\",src:\"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_660/\".concat(item[3])})})]},item[1])})):searchResults&&searchResults.map((item,index)=>/*#__PURE__*/_jsx(Link,{to:\"/fooditem/\".concat(item),children:/*#__PURE__*/_jsx(\"li\",{className:\"border-2 m-2 rounded-md hover:bg-orange-400 hover:text-white transition shadow-md p-2\",children:item},index)}))})})]})]});}export default Search;","map":{"version":3,"names":["React","useState","Navbar","useSelector","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Search","routes","setRoutes","searchTerm","setSearchTerm","searchResults","setSearchResults","resData","state","RestaurantsData","cusData","RestaurantsCuisines","cusRoutes","resRoutes","handleChange","event","term","target","value","trim","setTimeout","res","filter","r","name","toLowerCase","startsWith","map","id","avgRatingString","cloudinaryImageId","cui","c","result","console","log","children","className","type","placeholder","onChange","concat","onClick","item","to","alt","src","index"],"sources":["E:/mostlySwiggy/frontend/src/Components/searchPage/Search.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Navbar from \"../mainPage/Navbar\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Search() {\r\n  const [routes, setRoutes] = useState(\"res\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const resData = useSelector((state) => state.RestaurantsData);\r\n  const cusData = useSelector((state) => state.RestaurantsCuisines);\r\n\r\n  const cusRoutes = () => {\r\n    setSearchTerm(\"\");\r\n    setSearchResults(\"\");\r\n    setRoutes(\"cus\");\r\n  }\r\n  const resRoutes = () => {\r\n    setSearchTerm(\"\");\r\n    setSearchResults(\"\");\r\n    setRoutes(\"res\");\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    const term = event.target.value;\r\n    setSearchTerm(term);\r\n    if (term.trim() === \"\") setSearchResults([]);\r\n    else {\r\n      setTimeout(() => {\r\n        const res = resData\r\n          .filter((r) => r.name.toLowerCase().startsWith(term.toLowerCase()))\r\n          .map((r) => [r.name, r.id, r.avgRatingString, r.cloudinaryImageId]);\r\n        const cui = cusData.filter((c) =>\r\n          c.toLowerCase().startsWith(term.toLowerCase())\r\n        );\r\n        let result;\r\n        if (routes === \"res\") result = res;\r\n        else result = cui;\r\n        console.log(result);\r\n        setSearchResults(result);\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"flex flex-col items-center h-screen\">\r\n        <div className=\"w-[50%] mt-36\">\r\n          <input\r\n            className=\"border border-black pl-2 w-[100%] h-12 rounded-sm\"\r\n            type=\"text\"\r\n            placeholder={routes === 'res' ? 'Search for restaurants...' : 'Search for cuisines...'}\r\n            onChange={handleChange}\r\n            value={searchTerm}\r\n          />\r\n        </div>\r\n        <div className=\"mt-6\">\r\n          <button className={`m-4 border p-3 rounded-md ${routes === 'res' ? 'bg-orange-400 transition text-white font-bold border-2 border-orange-400 shadow-md' : ''}`} onClick={resRoutes}>\r\n            Restaurants\r\n          </button>\r\n          <button className={`m-4 border p-3 rounded-md ${routes === 'cus' ? 'bg-orange-400 transition text-white font-bold border-2 border-orange-400 shadow-md' : ''}`} onClick={cusRoutes}>\r\n            Cuisines\r\n          </button>\r\n        </div>\r\n        <div className=\"w-[50%] h-auto mt-6  flex flex-col overflow-y-auto scroll-smooth scrollbar-hidden\">\r\n          <ul>\r\n            {routes === \"res\"\r\n              ? searchResults &&\r\n                searchResults.map((item) => (\r\n                  <Link to={`/restaurant/${item[1]}`}>\r\n                    <li\r\n                      className=\"border-2 flex justify-between rounded-md m-2 hover:bg-orange-400 hover:text-white transition shadow-md p-4\"\r\n                      key={item[1]}\r\n                    >\r\n                      <div className=\"flex flex-col\">\r\n                        <div className=\"text-2xl font-bold\">{item[0]}</div>\r\n                        <div className=\"text-gray-400\">{item[2]}</div>\r\n                      </div>\r\n                      <div>\r\n                        <img alt='resImage' className=\"w-20 h-20\" src={`https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_660/${item[3]}`}/>\r\n                      </div>\r\n                    </li>\r\n                  </Link>\r\n                ))\r\n              : searchResults &&\r\n                searchResults.map((item, index) => (\r\n                  <Link to={`/fooditem/${item}`}>\r\n                    <li\r\n                      className=\"border-2 m-2 rounded-md hover:bg-orange-400 hover:text-white transition shadow-md p-2\"\r\n                      key={index}\r\n                    >\r\n                      {item}\r\n                    </li>\r\n                  </Link>\r\n                ))}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,MAAM,KAAM,oBAAoB,CACvC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAExC,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACa,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACe,aAAa,CAAEC,gBAAgB,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAAiB,OAAO,CAAGf,WAAW,CAAEgB,KAAK,EAAKA,KAAK,CAACC,eAAe,CAAC,CAC7D,KAAM,CAAAC,OAAO,CAAGlB,WAAW,CAAEgB,KAAK,EAAKA,KAAK,CAACG,mBAAmB,CAAC,CAEjE,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtBR,aAAa,CAAC,EAAE,CAAC,CACjBE,gBAAgB,CAAC,EAAE,CAAC,CACpBJ,SAAS,CAAC,KAAK,CAAC,CAClB,CAAC,CACD,KAAM,CAAAW,SAAS,CAAGA,CAAA,GAAM,CACtBT,aAAa,CAAC,EAAE,CAAC,CACjBE,gBAAgB,CAAC,EAAE,CAAC,CACpBJ,SAAS,CAAC,KAAK,CAAC,CAClB,CAAC,CAED,KAAM,CAAAY,YAAY,CAAIC,KAAK,EAAK,CAC9B,KAAM,CAAAC,IAAI,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAC/Bd,aAAa,CAACY,IAAI,CAAC,CACnB,GAAIA,IAAI,CAACG,IAAI,CAAC,CAAC,GAAK,EAAE,CAAEb,gBAAgB,CAAC,EAAE,CAAC,CAAC,IACxC,CACHc,UAAU,CAAC,IAAM,CACf,KAAM,CAAAC,GAAG,CAAGd,OAAO,CAChBe,MAAM,CAAEC,CAAC,EAAKA,CAAC,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,UAAU,CAACV,IAAI,CAACS,WAAW,CAAC,CAAC,CAAC,CAAC,CAClEE,GAAG,CAAEJ,CAAC,EAAK,CAACA,CAAC,CAACC,IAAI,CAAED,CAAC,CAACK,EAAE,CAAEL,CAAC,CAACM,eAAe,CAAEN,CAAC,CAACO,iBAAiB,CAAC,CAAC,CACrE,KAAM,CAAAC,GAAG,CAAGrB,OAAO,CAACY,MAAM,CAAEU,CAAC,EAC3BA,CAAC,CAACP,WAAW,CAAC,CAAC,CAACC,UAAU,CAACV,IAAI,CAACS,WAAW,CAAC,CAAC,CAC/C,CAAC,CACD,GAAI,CAAAQ,MAAM,CACV,GAAIhC,MAAM,GAAK,KAAK,CAAEgC,MAAM,CAAGZ,GAAG,CAAC,IAC9B,CAAAY,MAAM,CAAGF,GAAG,CACjBG,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC,CACnB3B,gBAAgB,CAAC2B,MAAM,CAAC,CAC1B,CAAC,CAAE,IAAI,CAAC,CACV,CACF,CAAC,CAED,mBACEpC,KAAA,CAAAE,SAAA,EAAAqC,QAAA,eACEzC,IAAA,CAACJ,MAAM,GAAE,CAAC,cACVM,KAAA,QAAKwC,SAAS,CAAC,qCAAqC,CAAAD,QAAA,eAClDzC,IAAA,QAAK0C,SAAS,CAAC,eAAe,CAAAD,QAAA,cAC5BzC,IAAA,UACE0C,SAAS,CAAC,mDAAmD,CAC7DC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAEtC,MAAM,GAAK,KAAK,CAAG,2BAA2B,CAAG,wBAAyB,CACvFuC,QAAQ,CAAE1B,YAAa,CACvBI,KAAK,CAAEf,UAAW,CACnB,CAAC,CACC,CAAC,cACNN,KAAA,QAAKwC,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnBzC,IAAA,WAAQ0C,SAAS,8BAAAI,MAAA,CAA+BxC,MAAM,GAAK,KAAK,CAAG,oFAAoF,CAAG,EAAE,CAAG,CAACyC,OAAO,CAAE7B,SAAU,CAAAuB,QAAA,CAAC,aAEpL,CAAQ,CAAC,cACTzC,IAAA,WAAQ0C,SAAS,8BAAAI,MAAA,CAA+BxC,MAAM,GAAK,KAAK,CAAG,oFAAoF,CAAG,EAAE,CAAG,CAACyC,OAAO,CAAE9B,SAAU,CAAAwB,QAAA,CAAC,UAEpL,CAAQ,CAAC,EACN,CAAC,cACNzC,IAAA,QAAK0C,SAAS,CAAC,mFAAmF,CAAAD,QAAA,cAChGzC,IAAA,OAAAyC,QAAA,CACGnC,MAAM,GAAK,KAAK,CACbI,aAAa,EACbA,aAAa,CAACsB,GAAG,CAAEgB,IAAI,eACrBhD,IAAA,CAACF,IAAI,EAACmD,EAAE,gBAAAH,MAAA,CAAiBE,IAAI,CAAC,CAAC,CAAC,CAAG,CAAAP,QAAA,cACjCvC,KAAA,OACEwC,SAAS,CAAC,4GAA4G,CAAAD,QAAA,eAGtHvC,KAAA,QAAKwC,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5BzC,IAAA,QAAK0C,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAAEO,IAAI,CAAC,CAAC,CAAC,CAAM,CAAC,cACnDhD,IAAA,QAAK0C,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAEO,IAAI,CAAC,CAAC,CAAC,CAAM,CAAC,EAC3C,CAAC,cACNhD,IAAA,QAAAyC,QAAA,cACEzC,IAAA,QAAKkD,GAAG,CAAC,UAAU,CAACR,SAAS,CAAC,WAAW,CAACS,GAAG,qFAAAL,MAAA,CAAsFE,IAAI,CAAC,CAAC,CAAC,CAAG,CAAC,CAAC,CAC5I,CAAC,GARDA,IAAI,CAAC,CAAC,CAST,CAAC,CACD,CACP,CAAC,CACFtC,aAAa,EACbA,aAAa,CAACsB,GAAG,CAAC,CAACgB,IAAI,CAAEI,KAAK,gBAC5BpD,IAAA,CAACF,IAAI,EAACmD,EAAE,cAAAH,MAAA,CAAeE,IAAI,CAAG,CAAAP,QAAA,cAC5BzC,IAAA,OACE0C,SAAS,CAAC,uFAAuF,CAAAD,QAAA,CAGhGO,IAAI,EAFAI,KAGH,CAAC,CACD,CACP,CAAC,CACJ,CAAC,CACF,CAAC,EACH,CAAC,EACN,CAAC,CAEP,CAEA,cAAe,CAAA/C,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}