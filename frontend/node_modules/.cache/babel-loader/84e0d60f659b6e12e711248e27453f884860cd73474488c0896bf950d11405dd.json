{"ast":null,"code":"var _jsxFileName = \"E:\\\\mostlySwiggy\\\\frontend\\\\src\\\\Components\\\\restaurantPage\\\\AccordionItem.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setCartSlice, removeCartSlice } from \"../../Redux/slices/CartSlice\";\nimport { toast } from \"sonner\";\n\n// Add the inStock effect also\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AccordionItem({\n  dishData,\n  resturantId,\n  restaurantData\n}) {\n  _s();\n  const [cartItems, setCartItems] = useState(new Map());\n  const cartyy = useSelector(state => state.CartSlice);\n  useEffect(() => {\n    const mapItems = new Map();\n    cartyy.map(item => mapItems.set(item.data.dishName, item.quantity));\n    setCartItems(mapItems);\n  }, [cartyy]);\n  const dispatch = useDispatch();\n  const cart = {\n    dishName: dishData.name,\n    dishPrice: dishData.finalPrice,\n    dishVeg: dishData.isVeg,\n    dishImage: dishData.imageId,\n    resId: resturantId,\n    resName: restaurantData.name\n  };\n  const removeFromCart = () => {\n    dispatch(removeCartSlice(cart));\n  };\n  const sendToCart = () => {\n    dispatch(setCartSlice(cart));\n    toast.success(\"Item added to cart!\", {\n      style: {\n        background: \"lightgreen\",\n        fontSize: \"17px\"\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between my-3 border border-black\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: dishData.isVeg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: dishData.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: dishData.finalPrice\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: dishData.ratings.aggregatedRating.rating\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: dishData.ratings.aggregatedRating.ratingCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"dishImage\",\n            className: \"w-20 h-20\",\n            src: `https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_660/${dishData.imageId}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), cartItems.size !== 0 && cartItems.get(dishData.name) !== undefined ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between space-x-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: sendToCart,\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: cartItems.get(dishData.name)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: removeFromCart,\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: sendToCart,\n            children: \"ADD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(AccordionItem, \"N7J6L//bmF/7/MYBVQjRCjAYxCs=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = AccordionItem;\nexport default AccordionItem;\nvar _c;\n$RefreshReg$(_c, \"AccordionItem\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","setCartSlice","removeCartSlice","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","AccordionItem","dishData","resturantId","restaurantData","_s","cartItems","setCartItems","Map","cartyy","state","CartSlice","mapItems","map","item","set","data","dishName","quantity","dispatch","cart","name","dishPrice","finalPrice","dishVeg","isVeg","dishImage","imageId","resId","resName","removeFromCart","sendToCart","success","style","background","fontSize","children","className","fileName","_jsxFileName","lineNumber","columnNumber","ratings","aggregatedRating","rating","ratingCount","alt","src","size","get","undefined","onClick","type","_c","$RefreshReg$"],"sources":["E:/mostlySwiggy/frontend/src/Components/restaurantPage/AccordionItem.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector} from \"react-redux\";\r\nimport { setCartSlice, removeCartSlice } from \"../../Redux/slices/CartSlice\";\r\nimport { toast } from \"sonner\";\r\n\r\n// Add the inStock effect also\r\nfunction AccordionItem({ dishData, resturantId, restaurantData }) {\r\n  const [cartItems, setCartItems] = useState(new Map());\r\n  const cartyy = useSelector((state) => state.CartSlice);\r\n\r\n  useEffect(()=>{\r\n    const mapItems = new Map();\r\n    cartyy.map((item)=> mapItems.set(item.data.dishName, item.quantity));\r\n    setCartItems(mapItems);\r\n  },[cartyy])\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const cart = {\r\n    dishName: dishData.name,\r\n    dishPrice: dishData.finalPrice,\r\n    dishVeg: dishData.isVeg,\r\n    dishImage: dishData.imageId,\r\n    resId: resturantId,\r\n    resName: restaurantData.name,\r\n  };\r\n\r\n  const removeFromCart = () =>{\r\n    dispatch(removeCartSlice(cart));\r\n  }\r\n\r\n  const sendToCart = () => {\r\n    dispatch(setCartSlice(cart));\r\n    toast.success(\"Item added to cart!\", {\r\n      style: { background: \"lightgreen\", fontSize: \"17px\" },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-between my-3 border border-black\">\r\n        <div className=\"flex flex-col\">\r\n          <div>{dishData.isVeg}</div>\r\n          <div>{dishData.name}</div>\r\n          <div>{dishData.finalPrice}</div>\r\n          <div>{dishData.ratings.aggregatedRating.rating}</div>\r\n          <div>{dishData.ratings.aggregatedRating.ratingCount}</div>\r\n        </div>\r\n        <div className=\"flex flex-col items-center\">\r\n          <div>\r\n            <img\r\n              alt=\"dishImage\"\r\n              className=\"w-20 h-20\"\r\n              src={`https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_660/${dishData.imageId}`}\r\n            />\r\n          </div>\r\n          {cartItems.size !== 0 && cartItems.get(dishData.name) !== undefined ? (\r\n            <div className=\"flex justify-between space-x-5\">\r\n              <button onClick={sendToCart}>+</button>\r\n              <div>{cartItems.get(dishData.name)}</div>\r\n              <button onClick={removeFromCart}>-</button>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <button  type=\"button\" onClick={sendToCart}>\r\n                ADD\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AccordionItem;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}